@model List<EasyFreight.ViewModel.CountryPortList>
<select id="@ViewBag.ddlName" name="@ViewBag.ddlName" data-plugin-selecttwo @ViewBag.multiple  
    class="form-control populate" data-placeholder="Select Port" @ViewBag.required >
    <option></option>
    @foreach (var item in Model)
    {
        if (item.PortList.Count > 0)
        { 
        <optgroup label="@item.CountryName">
            @foreach (var port in item.PortList)
            {
                if (ViewBag.selectedVal != null && ViewBag.selectedVal != 0 && port.Key == ViewBag.selectedVal)
                {
                    <option countryId="@item.CountryId" selected value="@port.Key">@port.Value </option>
                }
                else
                {
                     <option countryId="@item.CountryId" value="@port.Key">@port.Value </option>
                }
            }
        </optgroup>
        }
    }
</select>

@*<select id="@ViewBag.ddlName" name="@ViewBag.ddlName" @ViewBag.multiple
        class="form-control populate portsDDL" data-placeholder="Choose Port..." @ViewBag.required>
    <option value=""></option>

</select>*@
